<!DOCTYPE html>
<html lang="ko">

<head>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "밤톨컴퍼니",
  "url": "https://bamtolcompany.github.io/"
}
    </script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <meta name="naver-site-verification" content="c0d0278354abb9332eeab54d415d9f01f3ecea62" />
  <meta name="google-site-verification" content="UhQkqPlA225MzqsxScvcuS6697b9sBfc8qAiIgFj0X0" />
  <meta name="naver-site-verification" content="04815f3e125ccbf570511b852976b17b4eed0bce" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9258543756875713"
    crossorigin="anonymous"></script>
  <title>올인원 검색-여러 검색엔진을 한곳에서 이용하세요</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta charset="utf-8">
  <meta name="application-name" content="밤톨컴퍼니">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="밤톨컴퍼니">
  <meta name="robots" content="index, follow">
  <meta name="description" content="올인원 검색은 구글, 네이버, 다음, 빙, 유튜브 등 다양한 검색엔진을 한 곳에서 빠르게 검색할 수 있는 통합 검색 플랫폼입니다.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="올인원 검색">
  <meta property="og:description" content="많은 검색엔진을 한곳에서 이용하세요">
  <meta property="og:image" content="https://bamtolcompany.github.io/favicon.ico">
  <meta property="og:url" content="https://bamtolcompany.github.io/">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1AC8FF">
  <meta name="yandex-verification" content="96c9424419bd925a" />
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=location_searching" />
  <script
    src="https://www.google.com/recaptcha/api.js?render=6Lc5l-0rAAAAAE6lLGJAPEJx2Pb8N5OVu-Tazxu2&onload=onRecaptchaScriptLoad"
    async defer></script>
  <style>
    @font-face {
      font-family: "nanum";
      src: url("font/NanumBarunpenR.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
      unicode-range: U+0020-007E,
        U+00A0-00FF,
        U+AC00-D7A3,
        U+1100-11FF,
        U+3130-318F,
        U+3200-321E,
        U+3260-327F,
        U+FFE0-FFE6;
      ;
    }

    .white {
      background-color: white;
    }

    .white h1 {
      color: black;
    }

    .white button {
      background-color: #FFFFA8;
    }


    .dark button {
      color: white;
      background-color: gray;
    }

    .dark legend {
      color: white;
    }

    .dark footer p {
      color: white;
    }

    .yellow {
      background-color: lightyellow;
    }

    .yellow h1 {
      color: black;
    }

    .yellow .ai {
      background-color: lemonchiffon;
    }

    .category-section {
      text-align: center;
      margin: 0px;
      padding: 0px;
    }

    .category {
      text-align: center;
      width: 110px;
      height: 30px;
      font-size: 18px;
      background-color: #FFFFA8;
      border-radius: 5px;
    }

    #autocomplete-list li {
      padding: 10px;
      cursor: pointer;
      font-size: 18px;
      border-bottom: 1px solid #ccc;
    }

    #autocomplete-list li:hover {
      background-color: #f0f0f0;
    }

    body {
      background-color: #1AC8FF;
      padding: 0;
      margin: 0;
    }

    main {
      padding: 8px;
    }

    header {
      padding: 8px;
    }

    * {
      transition: 0.3s;
      font-family: "nanum", "NanumGothic", sans-serif;
    }

    h1 {
      color: white;
      font-family: "NanumSquareRound";
    }

    h4 {
      color: white;
    }

    h6 {
      color: white;
    }

    .ignore {
      color: blue;
    }

    a:not(.ignore, .footer-link) {
      font-size: 40px;
      color: black;
      text-decoration: none;
    }

    img {
      width: 40px;
      height: 40px;
    }

    button {
      background-color: yellow;
      width: 300px;
      height: 75px;
      border-radius: 30px;
      margin: 3px;
      font-size: 40px;
      color: black;
    }

    input {
      width: 100%;
      font-size: 100%;
      border-radius: 30px;
      padding: 15px;
    }

    .ai img {
      margin: 5px;
    }

    .ai {
      background-color: white;
    }

    fieldset {
      width: 300px;
    }

    .tops {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .top {
      width: 40%;
      background-color: #85e3ff;
      padding: 5px;
      border-radius: 10px;
      margin: 8px;
    }

    .list:hover {
      color: #0051ff;
      font-size: larger;
      text-decoration: underline;
    }

    .top p {
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }

    footer {
      text-align: center;
      background-color: #c2f1ff;
      padding: 10px;
    }

    .footer-link {
      color: black;
      text-decoration: none;
      margin: 10px;
      font-family: 'NanumGothic';
    }

    .footer-link:hover {
      text-decoration: underline;
      color: #0051ff;
    }

    .adsbygoogle {
      margin-bottom: 5px;
    }


    .about-sites {
      text-align: center;
    }

    .window .category {
      font-size: small;
    }

    .window input {
      font-size: large;
    }

    .window .engine button {
      font-size: 30px;
    }

    .window h1 {
      font-size: 40px;
    }

    .window .top {
      background-color: blue;
      color: white;
      border-radius: 0;
    }

    .window {
      background-color: #00b899 !important;
    }

    #specialLogo {
      width: 85%;
      height: auto;
    }

    .search-location {
      width: auto;
      height: auto;
      padding: 0px;
      background-color: #ccc;
      font-size: 0px;
      cursor: pointer;
    }

    .material-symbols-outlined {
      margin: 0;
    }

    .weather {
      width: auto;
      height: 20px;
    }

    .container {
      display: flex;
    }

    .engine button {
      cursor: pointer;
    }

    .category {
      cursor: pointer;
    }

    .engine button:hover {
      transform: scale(1.05);
      background-color: #ffeb36;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      border-color: #ffeb36;
    }

    .category:hover {
      transform: scale(1.05);
      background-color: #ffff80;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      border-image-slice: 1;
      border-image-source: linear-gradient(45deg, #ffbb01, #e5ff00);
    }

    footer p {
      font-family: 'NanumGothicBold';
    }

    .white .engine button:hover {
      background-color: #ffff80;
    }

    .dark .engine button:hover {
      background-color: rgb(90, 90, 90);
      border-color: rgb(90, 90, 90);
    }

    .dark .category:hover {
      background-color: rgb(90, 90, 90);
      border-image-slice: 1;
      border-image-source: linear-gradient(0deg, #141414, #dadada);
    }

    .dark footer p {
      color: black;
    }

    .dark .time,
    .dark .weather {
      color: white;
    }

    .dark aside p {
      color: white;
    }

    .window .engine button:hover {
      background-color: silver;
    }

    .dark .top {
      color: white;
      background-color: #333333;
    }

    .dark .list:hover {
      color: #e0e0e0;
    }

    .dark .footer-link {
      color: white;
    }

    .dark footer {
      background-color: rgb(26, 26, 26);
    }

    .dark footer p {
      color: white;
    }

    .dark {
      background: linear-gradient(25deg, black, rgb(19, 19, 19), rgb(36, 36, 36), rgb(14, 14, 14), rgb(24, 24, 24));
    }

    .dark #query {
      background-color: #3b3b3b;
      color: white;
      border: 1px gray solid;
    }

    .dark #query::placeholder {
      color: #dfdfdf;
    }

    .about-sites a {
      background-color: #9e9e9e;
      padding: 10px;
      border-radius: 6px;
      margin: 10px;
      border: 2px solid;
    }

    .about-sites a:hover {
      background-color: #8a8a8a;
      text-decoration: underline;
    }

    @media (max-width:480px) {
      .engine {
        text-align: center;
      }

      .engine button {
        width: 97%;
      }
    }

    #news-dashboard {
      margin-top: 20px;
      padding: 20px;
      margin-bottom: 20px;
      background-color: #ffffffce;
      border-radius: 10px;
    }

    #news-dashboard h2 {
      text-align: center;
      color: #333;
      font-family: "NanumSquareRound";
    }

    #news-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
      margin-top: 10px;
    }

    .m-news {
      max-width: 1200px;
      margin: 0 auto;
    }

    .m-news ul {
      list-style: none;
      padding: 0;
      margin: 0;

      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 5px;
    }

    .m-news ul li {
      border: 1px solid #000;
      margin: -1px;
      min-height: 100px;
      box-sizing: border-box;
    }

    .m-news ul li:hover {
      transform: scale(1.1, 1.1)
    }

    .white .m-news ul li,
    .yellow .m-news ul li {
      border-color: #ddd;
    }

    .m-news ul li a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 100%;
      padding: 10px;
      box-sizing: border-box;
      text-decoration: none;
      color: #333;
      font-size: 14px;
      font-weight: bold;
      word-break: keep-all;
    }

    .m-news-container {
      text-align: center;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 10px;
      padding: 10px;
      margin-top: 20px;
    }

    .news-item {
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .dark .news-item {
      background-color: #303030;
    }

    .dark #news-dashboard h2 {
      color: white;
    }

    .news-item h3 {
      font-size: 1.1em;
      margin: 0 0 10px 0;
    }

    .news-item h3 a {
      text-decoration: none;
      color: #0056b3;
      font-size: initial;
    }

    .dark .news-item h3 a {
      color: #1f5bff;
    }

    #query {
      height: 40px !important;
    }

    .news-item h3 a:hover {
      text-decoration: underline;
    }

    .news-item p {
      font-size: 0.9em;
      color: #555;
      margin: 0 0 10px 0;
    }

    .dark .news-item p {
      color: #ffffff;
    }

    .dark #news-dashboard p {
      color: white;
    }

    #read-later-section {
      margin-top: 20px;
      padding: 20px;
      background-color: #ffffffce;
      border-radius: 10px;
    }

    #read-later-section h2 {
      text-align: center;
      color: #333;
      font-family: "NanumSquareRound";
    }

    #read-later-list {
      list-style: none;
      padding: 0;
    }

    #read-later-list li {
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #read-later-list li a {
      text-decoration: none;
      color: #0056b3;
      font-size: initial;
      font-weight: bold;
    }

    #read-later-list li a:hover {
      text-decoration: underline;
    }

    .dark #read-later-section {
      background-color: #292929;
    }

    .dark #read-later-section h2 {
      color: white;
    }

    .dark #read-later-list li {
      background-color: #303030;
      border-color: #444;
    }

    .dark #read-later-list li a {
      color: #1f5bff;
    }

    #custom-context-menu {
      position: absolute;
      z-index: 10000;
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      padding: 5px 0;
    }

    #custom-context-menu button {
      display: block;
      width: 100%;
      padding: 8px 15px;
      border: none;
      background: none;
      text-align: left;
      cursor: pointer;
      font-size: 14px;
      height: auto;
      border-radius: 0;
      color: black;
    }

    #custom-context-menu button:hover {
      background-color: #f0f0f0;
      transform: none;
      box-shadow: none;
    }

    /* Dark Theme Context Menu */
    .dark #custom-context-menu {
      background-color: #3b3b3b;
      border-color: #555;
    }

    .dark #custom-context-menu button {
      color: white;
    }

    .dark #custom-context-menu button:hover {
      background-color: #555;
    }

    /* Retro Theme Read Later Section */
    .window #read-later-section {
      background-color: #c0c0c0;
      border: 2px solid #000;
      box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 0 !important;
    }

    .window #read-later-section h2 {
      font-family: 'VT323', monospace;
      color: white;
      text-align: left;
      padding: 5px;
      background-color: #000080;
      margin-top: 0;
      border-radius: 0 !important;
    }

    .window #read-later-list li {
      background-color: #fff;
      border: 2px inset #7f7f7f;
      padding: 10px;
      box-shadow: none;
      border-radius: 0 !important;
    }

    .window #read-later-list li a {
      font-family: 'VT323', monospace;
      color: #0000ff;
      text-decoration: underline;
    }

    .window #read-later-list p {
      font-family: 'VT323', monospace;
      color: #000;
    }

    /* Retro Theme Context Menu */
    .window #custom-context-menu {
      font-family: 'VT323', monospace;
      background-color: #c0c0c0;
      border: 2px solid #000;
      box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
      border-radius: 0;
      padding: 0;
    }

    .window #custom-context-menu button {
      font-family: 'VT323', monospace;
      color: #000;
      padding: 5px 15px;
    }

    .window #custom-context-menu button:hover {
      background-color: #000080;
      color: white;
    }

    .news-item .news-source {
      font-size: 0.8em;
      color: #888;
      text-align: right;
    }

    .new-features-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    #exchange-rate-container {
      flex: 6;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 20px;
      border-radius: 10px;
      min-width: 300px;
    }

    #notepad-container {
      flex: 4;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 20px;
      border-radius: 10px;
      min-width: 300px;
    }

    #exchange-rate-container h2,
    #notepad-container h2 {
      text-align: center;
      color: #333;
      font-family: "NanumSquareRound";
    }

    #exchange-rate-display {
      font-size: 1.2em;
      text-align: center;
      margin-bottom: 15px;
    }

    #krw-input {
      width: calc(100% - 30px);
      margin-bottom: 10px;
      height: 10px;
    }

    #usd-output {
      font-size: 1.1em;
      font-weight: bold;
      text-align: center;
      color: #0056b3;
    }

    #notepad {
      width: 100%;
      height: 150px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 10px;
      font-family: "nanum", "NanumGothic", sans-serif;
      box-sizing: border-box;
    }

    .dark #notepad-container {
      background-color: #292929;
    }

    .dark #notepad-container h2 {
      color: white;
    }

    .dark #notepad {
      background-color: #303030;
      color: white;
      border-color: #303030;
    }

    .dark #notepad::placeholder {
      color: #c0c0c0;
    }

    .dark #exchange-rate-container {
      background-color: #292929;
      color: white;
    }

    .dark #exchange-rate-container h2 {
      color: white;
    }

    .dark #usd-output {
      color: #ffffff;
    }

    .dark #news-dashboard,
    .dark .m-news-container {
      background-color: #292929;
    }

    .dark .m-news-container h2 {
      color: white;
    }

    .dark .m-news ul li {
      background-color: #333;
      border-color: #444;
    }

    .dark .m-news ul li a {
      color: #eee;
      font-family: 'Malgun Gothic', 'Dotum', sans-serif;
    }

    @media (max-width: 768px) {
      .new-features-container {
        flex-direction: column;
      }

      #exchange-rate-container,
      #notepad-container {
        flex: 1;
      }
    }

    @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

    /* General retro styles */
    .window {
      font-family: 'VT323', monospace;
      background-color: #00b899 !important;
      border: 2px solid #000;
      box-shadow: 5px 5px 0px rgba(0, 0, 0, 0.5);
    }

    .window * {
      transition: none !important;
    }

    /* Header and Title Bar */
    .window .top {
      background-color: #000080;
      color: white;
      padding: 5px;
      font-weight: bold;
      border-bottom: 2px solid #000;
      border-radius: 0;
    }

    /* Buttons and Categories */
    .window button,
    .window .category {
      font-family: 'VT323', monospace;
      background-color: #c0c0c0;
      border: 2px solid #000;
      box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
      border-radius: 0;
    }

    .window button:active,
    .window .category:active {
      box-shadow: none;
      transform: translate(2px, 2px);
    }

    /* Remove hover effects */
    .window button:hover,
    .window .category:hover,
    .window .list:hover,
    .window .footer-link:hover,
    .window .about-sites a:hover {
      transform: none;
      box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
      background-color: #c0c0c0;
      text-decoration: none;
      color: black;
      border-color: black;
    }

    /* Sharp corners for all elements */
    .window input,
    .window .ai,
    .window #news-dashboard,
    .window .news-item,
    .window #exchange-rate-container,
    .window #notepad-container,
    .window #notepad,
    .window .about-sites a,
    .window fieldset,
    .window .history {
      border-radius: 0 !important;
    }

    .window #krw-input {
      height: 30px;
    }

    /* Form elements styling */
    .window input[type="search"],
    .window input[type="number"],
    .window textarea,
    .window select {
      font-family: 'VT323', monospace;
      background-color: white;
      border: 2px inset #7f7f7f;
      box-shadow: none;
      padding: 5px;
    }

    /* Footer styling */
    .window footer {
      background-color: #c0c0c0;
      border-top: 2px solid #000;
      padding: 10px;
    }

    .window footer p,
    .window footer a {
      font-family: 'VT323', monospace;
      color: #000;
    }

    .window .footer-link {
      color: #0000ff;
      text-decoration: underline;
    }

    .window .footer-link:hover {
      color: #0000ff;
      text-decoration: underline;
      background-color: transparent;
      box-shadow: none;
    }

    /* Style for the section containers */
    .window #news-dashboard,
    .window #exchange-rate-container,
    .window #notepad-container,
    .window .m-news-container,
    .window .history {
      background-color: #c0c0c0;
      border: 2px solid #000;
      box-shadow: 2px 2px 0px rgba(0, 0, 0, 0.5);
      padding: 10px;
    }

    /* Headings within the sections */
    .window #news-dashboard h2,
    .window #exchange-rate-container h2,
    .window #notepad-container h2,
    .window .m-news-container h2,
    .window .history h2 {
      font-family: 'VT323', monospace;
      color: #000;
      text-align: left;
      padding: 5px;
      background-color: #000080;
      /* Title bar color */
      color: white;
      margin-top: 0;
    }

    /* News item styling */
    .window .news-item {
      background-color: #fff;
      border: 2px inset #7f7f7f;
      padding: 10px;
      box-shadow: none;
    }

    .window .news-item h3 a {
      font-family: 'VT323', monospace;
      font-size: 1.2em;
      /* Make it a bit larger */
      color: #0000ff;
      text-decoration: underline;
    }

    .window .news-item p {
      font-family: 'VT323', monospace;
      color: #000;
    }

    /* Exchange rate display */
    .window #exchange-rate-display,
    .window #usd-output {
      font-family: 'VT323', monospace;
      color: #000;
    }

    /* Media news list */
    .window .m-news ul {
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }

    .window .m-news ul li {
      border: 1px solid #000;
      background-color: #fff;
    }

    .window .m-news ul li a {
      font-family: 'VT323', monospace;
      color: #0000ff;
      text-decoration: underline;
      font-size: 16px;
    }

    .remove-link {
      width: 100px;
      height: 30px;
      font-size: 12px;
      background-color: #dddddd;
    }

    .history {
      background-color: #ffffffce;
      border-radius: 15px;
      padding: 10px;
      margin-top: 10px;
    }

    .history h2 {
      text-align: center;
    }

    .dark .history {
      background-color: #292929;
      color: white;
    }
    .toplogo {
      width: 100px;
      height: auto;
    }
  </style>
</head>

<body>
  <header>
    <img src="textlogo.png" class="toplogo">
    <h1>올인원 검색-여러 검색엔진을 한곳에서 이용하세요.</h1>
    <nav>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSfZXzol5qk6zGwrMvAco9f3M1QumJ6W2ut0g7egWFUfzHB5ig/viewform?usp=header"
        class="ignore">피드백 및 버그 신고</a>
      <fieldset>
        <legend>테마</legend>
        <select id="theme-select" onchange="setTheme(this.value)">
          <option value="none">기본</option>
          <option value="white">화이트</option>
          <option value="dark">다크</option>
          <option value="yellow">옐로</option>
          <option value="window">레트로</option>
        </select>
      </fieldset>
    </nav>
  </header>
  <main>
    <div style="border-radius:20px; display:inline-flex; padding-left:20px; padding-right:20px;" class="ai">
      <a href="https://gemini.google.com"><img
          src="https://play-lh.googleusercontent.com/bTpNtZ6rYYX2SeI-wC4cnr7MJnOh2hjtgYu3UIrSxE09lM3GPl_Uhf9_Ih2Smje2bc0V=w480-h960-rw"></a>
      <a href="https://chatgpt.com"><img src="https://chatgpt.com/favicon.ico"></a>
      <a href="https://copilot.microsoft.com/"><img src="https://copilot.microsoft.com/favicon.ico"></a>
    </div>
    <div id="time" class="time"></div>

    <div class="container">
      <div id="weather" class="weather"></div><button onclick="getWeather()" class="search-location"><span
          class="material-symbols-outlined">
          location_searching
        </span></button>
    </div>
    <div class="about-sites">
      <a href="https://bamtolcompany.github.io/allinonenews/" style="font-size:20px;">올인원 뉴스</a>
      <a href="https://bamtolcompany.github.io/allinoneshopping/" style="font-size:20px;">올인원 쇼핑</a>
    </div>
    <div>
      <img id="specialLogo">
    </div>

    <div style="display: flex; gap:5px; transition: 0s;" id="inputContainer">
      <a href="https://bamtolcompany.github.io/products">
        <img src="logo.png" style="border-radius: 25px;">
      </a>
      <div style="position: relative; display: inline-block; width: 85%;">
        <input type="search" id="query" placeholder="검색어를 입력하세요" autocomplete="off">
        <ul id="autocomplete-list"
          style="position: absolute; z-index: 1000; background: white; border-radius: 10px; list-style: none; margin: 0; padding: 0; width: 100%; display: none; max-height: 200px; overflow-y: auto;">
        </ul>
      </div>
      <a
        href="https://search.app.goo.gl/?ofl=https%3A%2F%2Flens.google&al=googleapp%3A%2F%2Flens%3Flens_data%3DKAw&apn=com.google.android.googlequicksearchbox&amv=301204913&isi=284815942&ius=googleapp&ibi=com.google.GoogleMobile&link=https%3A%2F%2Fgoo.gl%2Fiosgoogleapp%2Fdefault%3Furl%3Dgoogleapp%253A%252F%252Flens%253Fmin-version%253D180%2526lens_data%253DKAw&ifl=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fgoogle%2Fid284815942%3Fppid%3D1ac8cc35-d99c-4a1d-b909-321c8968cc74%26pt%3D9008%26mt%3D8%26ct%3D4815459-oo-lens-isb-bar-lens-cam%26UTM_campaign%3Dgoogle_search_mweb&efr=1&ct=4815459-oo-lens-isb-bar-lens-cam&utm_campaign=4815459-oo-lens-isb-bar-lens-cam&utm_source=google_search_mweb&utm_medium=owned&pt=9008&mt=8"><img
          src="https://lh3.googleusercontent.com/H65Hxq0ooUCcwhoRGU-fwoXqrGS58mwa2vtr2ZfhGgJzMU0uYybOrZVBs8jydtR22TRC1k9XwDMD2xHB5BBU4IyXW7oH8PyCsq46uX6A42CmXP5GDZ2d"></a>
      <img src="https://www.gstatic.com/images/branding/googlemic/2x/googlemic_color_24dp.png"
        onclick="startVoiceRecognition()">
    </div>
    <div id="query-sentinel"></div>

    <section class="category-section">
      <button onclick="search('images')" class="category">이미지 검색</button>
      <button onclick="search('ai')" class="category">AI 검색</button>
      <button onclick="search('blog')" class="category">블로그 검색</button>
      <button onclick="search('naverKnowledgeIn')" class="category">지식in 검색</button>
    </section>

    <div id="recaptcha-container"></div>
    <div class="engine">
      <button onclick="search('google')">구글 검색</button>
      <button onclick="search('naver')">네이버 검색</button>
      <button onclick="search('youtube')">유튜브 검색</button>
      <button onclick="search('daum')">다음 검색</button>
      <button onclick="search('yahoo')">야후 검색</button>
      <button onclick="search('bing')">빙 검색</button>
      <button onclick="search('nate')">네이트 검색</button>
      <button onclick="search('zum')">줌 검색</button>
    </div>
    <div class="tops">
      <div class="top">
        <p>인기 검색어 TOP10</p>
        <ol id="top-queries"></ol>
      </div>
      <div class="top">
        <p>주간 인기 검색어</p>
        <ol id="weekly-top-queries"></ol>
      </div>
    </div>
    <section id="read-later-section">
      <h2>저장된 링크</h2>
      <ul id="read-later-list"></ul>
      <button onclick="removeLink()" class="remove-link">모두 지우기</button>
    </section>
    <div class="history">
      <h2>최근 검색어</h2>
      <ol id="queryHistory"></ol>
    </div>
    <section id="news-dashboard">
      <h2><span style="color: rgb(0, 68, 255);">G</span><span style="color: rgb(255, 17, 0);">o</span><span
          style="color: rgb(255, 196, 0);">o</span><span style="color: rgb(0, 68, 255);">g</span><span
          style="color: green;">l</span><span style="color: rgb(255, 17, 0);">e</span> 뉴스</h2>
      <div id="news-container"></div>
      <p>powered by <span style="color: rgb(0, 68, 255);">G</span><span style="color: rgb(255, 17, 0);">o</span><span
          style="color: rgb(255, 196, 0);">o</span><span style="color: rgb(0, 68, 255);">g</span><span
          style="color: green;">l</span><span style="color: rgb(255, 17, 0);">e</span> news</p>
    </section>

    <div class="tops">
      <div id="exchange-rate-container">
        <h2>환율</h2>
        <div id="exchange-rate-display"></div>
        <input type="number" id="krw-input" placeholder="원을 입력해주세요">
        <p id="usd-output"></p>
      </div>
      <div id="notepad-container">
        <h2>메모장</h2>
        <textarea id="notepad" placeholder="메모를 입력해주세요"></textarea>
      </div>
    </div>
    <div class="m-news-container">
      <h2>언론사 모음</h2>
      <div class="m-news">
        <ul>
          <li><a href="https://imnews.imbc.com/">MBC뉴스</a></li>
          <li><a href="https://news.sbs.co.kr/">SBS뉴스</a></li>
          <li><a href="https://news.kbs.co.kr/">KBS뉴스</a></li>
          <li><a href="https://www.ytn.co.kr/">YTN뉴스</a></li>
          <li><a href="https://www.chosun.com/">조선일보</a></li>
          <li><a href="https://www.hani.co.kr/">한겨레</a></li>

          <li><a href="https://www.yonhapnewstv.co.kr/">연합뉴스TV</a></li>
          <li><a href="https://www.newsis.com/">뉴시스</a></li>
          <li><a href="https://sports.chosun.com/">스포츠조선</a></li>
          <li><a href="http://www.ohmynews.com/">오마이뉴스</a></li>
          <li><a href="https://www.bloter.net/">블로터</a></li>
          <li><a href="https://koreajoongangdaily.joins.com/">Korea JoongAng Daily</a></li>

          <li><a href="https://www.asiae.co.kr/">아시아경제</a></li>
          <li><a href="https://zdnet.co.kr/">지디넷 코리아</a></li>
          <li><a href="https://www.inews24.com/">아이뉴스24</a></li>
          <li><a href="http://www.kyeongin.com/">경인일보</a></li>
          <li><a href="http://www.incheonilbo.com/">인천일보</a></li>
          <li><a href="http://www.kihoilbo.co.kr/">기호일보</a></li>

          <li><a href="https://www.koreatimes.co.kr/">The Korea Times</a></li>
          <li><a href="https://www.edaily.co.kr/">이데일리</a></li>
          <li><a href="https://www.fntimes.com/">한국금융신문</a></li>
          <li><a href="https://news.jtbc.co.kr/">JTBC</a></li>
          <li><a href="https://newstapa.org/">뉴스타파</a></li>
          <li><a href="http://www.ddaily.co.kr/">디지털데일리</a></li>
        </ul>
      </div>
    </div>

  </main>
  <aside>
    <p>광고</p>
  </aside>
  <footer>
    <a href="https://bamtolcompany.github.io/products" class="footer-link">밤톨 서비스</a>
    <a href="https://bamtolcompany.github.io/support" class="footer-link">도움말</a>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSfZXzol5qk6zGwrMvAco9f3M1QumJ6W2ut0g7egWFUfzHB5ig/viewform?usp=header"
      class="footer-link">피드백 및 버그 신고</a><br>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdun2upPol4YSjcY2OGairYRypiSV1_eKhFwEYOsVDYar-xrw/viewform?usp=header"
      class="footer-link">인기 검색어 신고</a>
    <a href="secret.html" class="footer-link">시크릿 모드로 전환</a>
    <p>&copy; 2025 bamtol company. All rights reserved. | <a href="mailto:bamtol_official@naver.com"
        class="footer-link">이메일</a></p>
  </footer>
  <script>
    const SAVE_API_URL = "https://backend-bzep.onrender.com/api/save-query";
    const AUTOCOMPLETE_API_URL = "https://backend-bzep.onrender.com/api/autocomplete";
    const TOP_QUERIES_API_URL = "https://backend-bzep.onrender.com/api/top-queries";
    var language = navigator.language;
    function mobile() {
      return window.innerWidth <= 480;
    }

    let currentSearchEngine;

    function saveQuery(query, token) {
      if (!query) return;

      fetch(SAVE_API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ query, token }),
        keepalive: true
      })
        .then(res => res.json())
        .then(data => console.log("Query saved:", data))
        .catch(err => console.error("저장 실패:", err));
    }

    let f8Pressed = false;

    document.addEventListener("keydown", function (event) {
      if (event.key === "F8") {
        f8Pressed = true;
      }
    });

    document.addEventListener("keyup", function (event) {
      if (event.key === "F8") {
        f8Pressed = false;
      }
    });

    function search(engine) {
      const input = document.getElementById('query');
      const query = input.value.trim();
      if (!query) {
        Swal.fire({
          title: '검색어를 입력해주세요',
          icon: 'warning',
          confirmButtonText: '확인',
          confirmButtonColor: 'orange',
          scrollbarPadding: false,
          allowEnterKey: false
        }); return;
      }

      currentSearchEngine = engine;

      let url = '';
      switch (engine) {
        case 'google': url = `https://www.google.com/search?q=${encodeURIComponent(query)}`; break;
        case 'naver': url = `https://search.naver.com/search.naver?query=${encodeURIComponent(query)}`; break;
        case 'daum': url = `https://search.daum.net/search?q=${encodeURIComponent(query)}`; break;
        case 'yahoo': url = `https://search.yahoo.com/search?p=${encodeURIComponent(query)}`; break;
        case 'bing': url = `https://www.bing.com/search?q=${encodeURIComponent(query)}`; break;
        case 'nate': url = `https://search.daum.net/nate?q=${encodeURIComponent(query)}`; break;
        case 'zum': url = `https://search.zum.com/search.zum?query=${encodeURIComponent(query)}`; break;
        case 'youtube': url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`; break;
        case 'images': url = `https://www.google.com/search?tbm=isch&q=${encodeURIComponent(query)}`; break;
        case 'ai': url = `https://www.google.com/search?udm=50&aep=11&q=${encodeURIComponent(query)}`; break;
        case 'blog': url = `https://search.naver.com/search.naver?ssc=tab.blog.all&sm=tab_jum&query=${encodeURIComponent(query)}`; break;
        case 'naverKnowledgeIn': url = `https://search.naver.com/search.naver?ssc=tab.kin.kqna&where=kin&sm=tab_jum&query=${encodeURIComponent(query)}`; break;
      }
      if (mobile()) {
        window.location.href = url;
      }
      else {
        if (f8Pressed) {
          window.open(url, '_blank', 'width=600,height=400');

        }
        else {
          window.open(url, '_blank');
        }
      }
      localStorage.setItem("recentSearchEngine", engine);
      let searchQueryList = JSON.parse(localStorage.getItem("searchQueryList")) || [];
      searchQueryList.push(query); 
      localStorage.setItem("searchQueryList", JSON.stringify(searchQueryList));
      f8Pressed = false;

      grecaptcha.ready(() => {
        grecaptcha.execute('6Lc5l-0rAAAAAE6lLGJAPEJx2Pb8N5OVu-Tazxu2', { action: 'search' }).then((token) => {
        });
      });
    }

    // 인기 검색어 불러오기
    async function loadTopQueries() {
      try {
        grecaptcha.ready(async () => {
          const token = await grecaptcha.execute('6Lc5l-0rAAAAAE6lLGJAPEJx2Pb8N5OVu-Tazxu2', { action: 'top_queries' });
          const res = await fetch(TOP_QUERIES_API_URL, {
            headers: { 'X-Recaptcha-Token': token }
          });
          const data = await res.json();
          if (!res.ok) {
            console.error('[인기 검색어 TOP10] API 요청 실패:', data);
            const list = document.getElementById("top-queries");
            list.innerHTML = "<li>인기 검색어를 불러오지 못했습니다.</li>";
            return;
          }
          const list = document.getElementById("top-queries");
          list.innerHTML = "";
          data.forEach(item => {
            const li = document.createElement("li");
            li.classList.add("list")
            li.textContent = item.query;
            li.style.cursor = "pointer";
            li.addEventListener("click", () => {
              document.getElementById('query').value = item.query;
            });
            list.appendChild(li);
          });
        });
      } catch (err) {
        console.error("인기 검색어 불러오기 처리 중 에러:", err);
        const list = document.getElementById("top-queries");
        list.innerHTML = "<li>인기 검색어를 불러오는 중 오류가 발생했습니다.</li>";
      }
    }
    const WEEKLY_TOP_QUERIES_API_URL = "https://backend-bzep.onrender.com/api/weekly-top-queries";
    async function loadWeeklyTopQueries() {
      try {
        grecaptcha.ready(async () => {
          const token = await grecaptcha.execute('6Lc5l-0rAAAAAE6lLGJAPEJx2Pb8N5OVu-Tazxu2', { action: 'weekly_queries' });
          const res = await fetch(WEEKLY_TOP_QUERIES_API_URL, {
            headers: { 'X-Recaptcha-Token': token }
          });
          const data = await res.json();
          if (!res.ok) {
            console.error('[주간 인기 검색어] API 요청 실패:', data);
            const list = document.getElementById("weekly-top-queries");
            list.innerHTML = "<li>주간 인기 검색어를 불러오지 못했습니다.</li>";
            return;
          }
          const list = document.getElementById("weekly-top-queries");
          list.innerHTML = "";
          data.forEach(item => {
            const li = document.createElement("li");
            li.classList.add("list")
            li.textContent = item.query;
            li.style.cursor = "pointer";
            li.addEventListener("click", () => {
              document.getElementById('query').value = item.query;
            });
            list.appendChild(li);
          });
        });
      } catch (err) {
        console.error("주간 인기 검색어 불러오기 처리 중 에러:", err);
        const list = document.getElementById("weekly-top-queries");
        list.innerHTML = "<li>주간 인기 검색어를 불러오는 중 오류가 발생했습니다.</li>";
      }
    }

    function onRecaptchaScriptLoad() {
      // reCAPTCHA 스크립트가 로드된 후 호출됩니다.
      loadTopQueries();
      loadWeeklyTopQueries();
    }

    // 페이지 로드 시 인기 검색어 자동 로딩
    window.addEventListener("DOMContentLoaded", () => {
      // grecaptcha를 사용하지 않는 다른 함수들은 여기에서 호출합니다.
      loadNewsDashboard();
      loadExchangeRates();
      setupNotepad();
      loadReadLaterLinks();
    });

    let usdToKrwRate = 0;

    async function loadExchangeRates() {
      const exchangeRateDisplay = document.getElementById('exchange-rate-display');
      exchangeRateDisplay.innerHTML = '환율 정보를 불러오는 중...';
      try {
        const response = await fetch('https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/usd.json');
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        const data = await response.json();
        usdToKrwRate = data.usd.krw;
        exchangeRateDisplay.innerHTML = `1달러 = ${usdToKrwRate.toFixed(2)}원`;

        const krwInput = document.getElementById('krw-input');
        if (krwInput) {
          krwInput.addEventListener('input', convertCurrency);
        }

      } catch (error) {
        console.error('Error fetching exchange rates:', error);
        exchangeRateDisplay.innerHTML = '환율 정보 로딩 실패';
      }
    }

    function convertCurrency() {
      const krwInput = document.getElementById('krw-input');
      const usdOutput = document.getElementById('usd-output');
      const krwAmount = parseFloat(krwInput.value);

      if (isNaN(krwAmount) || krwAmount <= 0) {
        usdOutput.innerHTML = "";
        return;
      }

      if (usdToKrwRate > 0) {
        const usdAmount = krwAmount / usdToKrwRate;
        usdOutput.innerHTML = `${krwAmount.toLocaleString()}원은 약 ${usdAmount.toFixed(2)}달러입니다.`;
      } else {
        usdOutput.innerHTML = "환율 정보가 없습니다.";
      }
    }

    function setupNotepad() {
      const notepad = document.getElementById('notepad');
      if (notepad) {
        const savedNote = localStorage.getItem('notepadContent');
        if (savedNote) {
          notepad.value = savedNote;
        }
        notepad.addEventListener('input', () => {
          localStorage.setItem('notepadContent', notepad.value);
        });
      }
    }

    async function loadNewsDashboard() {
      const newsContainer = document.getElementById('news-container');
      newsContainer.innerHTML = '<p style="text-align:center;">최신 뉴스를 불러오는 중... <img src="loading.gif"/></p>';

      const feeds = [
        { name: 'Google 뉴스', url: 'https://news.google.com/rss?hl=ko&gl=KR&ceid=KR:ko' }
      ];

      // NOTE: Using a public CORS proxy for prototyping purposes.
      const CORS_PROXY = 'https://corsproxy.io/?';

      try {
        const allItems = [];
        for (const feed of feeds) {
          const response = await fetch(CORS_PROXY + encodeURIComponent(feed.url));
          if (!response.ok) {
            console.error(`Failed to fetch ${feed.name}: ${response.statusText}`);
            continue; // Skip this feed if it fails
          }
          const data = await response.text();
          const parser = new DOMParser();
          const xml = parser.parseFromString(data, 'application/xml');
          const items = xml.querySelectorAll('item');

          items.forEach(item => {
            const title = item.querySelector('title')?.textContent || '';
            const link = item.querySelector('link')?.textContent || '#';
            const description = item.querySelector('description')?.textContent.replace(/<[^>]*>?/gm, '').substring(0, 100) + '...' || '';
            const pubDate = item.querySelector('pubDate')?.textContent || '';

            allItems.push({
              title,
              link,
              description,
              pubDate: new Date(pubDate),
              source: feed.name
            });
          });
        }

        // Sort all items by date, newest first
        allItems.sort((a, b) => b.pubDate - a.pubDate);

        newsContainer.innerHTML = ''; // Clear loading message

        // Display a limited number of items
        var maxItems;
        if (mobile()) {
          maxItems = 5;
        }
        else {
          maxItems = 10;
        }
        allItems.slice(0, maxItems).forEach(item => {
          const newsItem = document.createElement('div');
          newsItem.className = 'news-item';
          newsItem.innerHTML = `
            <h3><a href="${item.link}" target="_blank" rel="noopener noreferrer">${item.title}</a></h3>
            <p>${item.description}</p>
            <p class="news-source">${item.source} - ${item.pubDate.toLocaleString()}</p>
          `;
          newsContainer.appendChild(newsItem);
        });

      } catch (error) {
        console.error('Error fetching or parsing RSS feeds:', error);
        newsContainer.innerHTML = '<p style="text-align:center;">뉴스 로딩에 실패했습니다.</p>';
      }
    }

    const inputBox = document.getElementById('query');
    const autocompleteList = document.getElementById('autocomplete-list');

    inputBox.addEventListener('input', async () => {
      const q = inputBox.value.trim();
      if (!q) { autocompleteList.style.display = 'none'; return; }

      try {
        const res = await fetch(`${AUTOCOMPLETE_API_URL}?q=${encodeURIComponent(q)}`);
        const suggestions = await res.json();

        autocompleteList.innerHTML = '';
        if (suggestions.length === 0) { autocompleteList.style.display = 'none'; return; }

        suggestions.forEach(s => {
          const li = document.createElement('li');
          li.textContent = s;
          li.addEventListener('click', () => {
            inputBox.value = s;
            autocompleteList.style.display = 'none';
          });
          autocompleteList.appendChild(li);
        });
        autocompleteList.style.display = 'block';
      } catch (err) {
        console.error("자동완성 에러:", err);
      }
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('#query') && !e.target.closest('#autocomplete-list')) {
        autocompleteList.style.display = 'none';
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === '/' && document.activeElement !== inputBox) {
        e.preventDefault();
        inputBox.focus();
        return;
      }
      if (e.key === 'Enter' && inputBox.value.startsWith('@google')) {
        inputBox.value = inputBox.value.replace(/^@google\s*/, '');
        search('google');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@naver')) {
        inputBox.value = inputBox.value.replace(/^@naver\s*/, '');
        search('naver');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@daum')) {
        inputBox.value = inputBox.value.replace(/^@daum\s*/, '');
        search('daum');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@yahoo')) {
        inputBox.value = inputBox.value.replace(/^@yahoo\s*/, '');
        search('yahoo');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@youtube')) {
        inputBox.value = inputBox.value.replace(/^@youtube\s*/, '');
        search('youtube');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@bing')) {
        inputBox.value = inputBox.value.replace(/^@bing\s*/, '');
        search('bing');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@ai')) {
        inputBox.value = inputBox.value.replace(/^@ai\s*/, '');
        search('ai');
      }
      else if (e.key === 'Enter') {
        const engine = localStorage.getItem("recentSearchEngine");
        if (engine == null) {
          Swal.fire({
            title: '최근에 사용한 검색엔진이 없습니다',
            icon: 'error',
            confirmButtonText: '확인',
            confirmButtonColor: 'red',
            scrollbarPadding: false,
            allowEnterKey: false
          });
          return;
        }
        search(engine);
      }

      if (e.ctrlKey && e.altKey) {
        e.preventDefault();
        const key = e.key.toUpperCase();
        switch (key) {
          case 'G': search('google'); break;
          case 'N': search('naver'); break;
          case 'Y': search('youtube'); break;
        }
      }
    });
    // 음성인식 하는 코드

    function startVoiceRecognition() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        Swal.fire({
          title: '이 브라우저는 음성인식을 지원하지 않아요. 크롬을 사용해주세요.',
          icon: 'error',
          confirmButtonText: '확인',
          confirmButtonColor: 'red',
          cancelButtonText: "취소",
          showCancelButton: true,
          scrollbarPadding: false,
          allowEnterKey: false
        }).then((result) => {
          if (result.isConfirmed) {
            window.location.href = "https://www.google.com/intl/ko_kr/chrome/";
          }
        }); return;
      }

      const recognition = new SpeechRecognition();
      recognition.lang = language;
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.start();

      recognition.onresult = function (event) {
        inputBox.value = event.results[0][0].transcript;
      };

      recognition.onerror = function (event) {
        Swal.fire({
          title: '음성 인식 오류: ' + event.error,
          icon: 'error',
          confirmButtonText: '확인',
          confirmButtonColor: 'red',
          scrollbarPadding: false,
          allowEnterKey: false
        });
      };
    }
    function setTime(lang) {
      const time = document.getElementById("time");
      const options = {
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: false
      };
      var today = new Date();
      var month = today.getMonth() + 1;
      var day = today.getDate();
      if (month === 3 && day === 1) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 3.1절";
      }
      else if (month === 7 && day === 17) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 제헌절";
      }
      else if (month === 8 && day === 15) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 광복절";
      }
      else if (month === 10 && day === 3) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 개천절";
      }
      else if (month === 10 && day === 9) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 한글날";
      }
      else {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date());
      }
    }
    function getWeather(location) {
      if (!location) {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function (position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            getCityName(lat, lon, function (city) {
              fetchWeather(lat, lon, city);
            });
          }, function (err) {
            console.error(err);
            fetchWeather(37.5665, 126.9780, "Seoul");
          });
        } else {
          fetchWeather(37.5665, 126.9780, "Seoul");
        }
      } else {
        // 도시 이름으로 좌표 가져오기
        getCityCoordinates(location, function (lat, lon, city) {
          fetchWeather(lat, lon, city);
        });
      }
    }

    function getCityName(lat, lon, callback) {
      fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`)
        .then(res => res.json())
        .then(data => {
          const city = data.address.city || data.address.town || data.address.village || data.address.county || "Unknown";
          callback(city);
        })
        .catch(err => {
          console.error(err);
          callback("Unknown");
        });
    }

    function getCityCoordinates(city, callback) {
      fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(city)}`)
        .then(res => res.json())
        .then(data => {
          if (data.length > 0) {
            callback(parseFloat(data[0].lat), parseFloat(data[0].lon), city);
          } else {
            callback(37.5665, 126.9780, "Seoul");
          }
        })
        .catch(err => {
          console.error(err);
          callback(37.5665, 126.9780, "Seoul");
        });
    }

    function weatherCodeToText(code) {
      if (code === 0) return "맑음";
      if ([1, 2, 3].includes(code)) return "구름 조금/흐림";
      if ([45, 48].includes(code)) return "안개";
      if ([51, 53, 55].includes(code)) return "이슬비";
      if ([61, 63, 65].includes(code)) return "비";
      if ([71, 73, 75].includes(code)) return "눈";
      if ([80, 81, 82].includes(code)) return "소나기";
      if ([95, 96, 99].includes(code)) return "뇌우";
      return "알 수 없음";
    }

    const newsAgencyMap = {
      'MBC뉴스': '문화방송',
      'SBS뉴스': '서울방송',
      'KBS뉴스': '한국방송',
      'YTN뉴스': '연합텔레비젼뉴스',
      '조선일보': '조선일보',
      '한겨레': '한겨레',
      '연합뉴스TV': '연합뉴스',
      '뉴시스': '뉴시스',
      '스포츠조선': '스포츠조선',
      '오마이뉴스': '오마이뉴스',
      '블로터': '블로터닷넷',
      'Korea JoongAng Daily': '코리아 중앙 데이리',
      '아시아경제': '아세아경제',
      '지디넷 코리아': '지디넷 코리아',
      '아이뉴스24': '아이뉴스24',
      '경인일보': '경인일보',
      '인천일보': '인천일보',
      '기호일보': '기호일보',
      'The Korea Times': '코리아타임스',
      '이데일리': '이데이리',
      '한국금융신문': '한국금융신문',
      'JTBC': '제이티비씨',
      '뉴스타파': '뉴스타파',
      '디지털데일리': '디지탈데이리'
    };

    function updateNewsAgencyNames(theme) {
      const newsLinks = document.querySelectorAll('.m-news ul li a');
      newsLinks.forEach(link => {
        if (!link.dataset.originalName) {
          link.dataset.originalName = link.textContent;
        }

        if (theme === 'window') {
          const originalName = link.dataset.originalName;
          const newName = newsAgencyMap[originalName];
          if (newName) {
            link.textContent = newName;
          }
        } else {
          link.textContent = link.dataset.originalName;
        }
      });
    }

    function fetchWeather(lat, lon, city) {
      fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
        .then(res => res.json())
        .then(data => {
          const weather = data.current_weather;
          const statusText = weatherCodeToText(weather.weathercode);
          if (city == "Unknown") {
            document.getElementById("weather").innerHTML = `현재위치 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`
          }
          else if (city != "Unknown") {
            document.getElementById("weather").innerHTML =
              `${city} 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`;
          }
          if (city == "Seoul") {
            document.getElementById("weather").innerHTML = `서울특별시 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`
          }
        })
        .catch(err => {
          console.error(err);
          document.getElementById("weather").innerHTML = "날씨 정보를 가져올 수 없습니다.";
        });
    }

    function setTheme(value) {
      document.body.className = value === 'none' ? '' : value;
      localStorage.setItem("테마", document.body.className);

      let retroLink = document.getElementById("retro-css");
      if (value === "window") {
        if (!retroLink) {
          retroLink = document.createElement("link");
          retroLink.id = "retro-css";
          retroLink.rel = "stylesheet";
          retroLink.href = "https://unpkg.com/98.css";
          document.head.appendChild(retroLink);
        }
      } else {
        if (retroLink) retroLink.remove();
      }
      updateNewsAgencyNames(value);
    }

    setTime(language);
    setInterval(function () {
      setTime(language);
    }, 1000)
    getWeather("서울 특별시")

    const savedTheme = localStorage.getItem("테마") || "none";
    document.body.className = savedTheme === "none" ? "" : savedTheme;
    document.getElementById('theme-select').value = savedTheme;
    updateNewsAgencyNames(savedTheme);

    if (savedTheme === "window") {
      const retroLink = document.createElement("link");
      retroLink.id = "retro-css";
      retroLink.rel = "stylesheet";
      retroLink.href = "https://unpkg.com/98.css";
      document.head.appendChild(retroLink);
    }
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log('Service Worker 등록 성공'))
        .catch(() => console.log('Service Worker 등록 실패'));
    }
    function logo() {
      var specialLogo = document.getElementById("specialLogo");
      const date = new Date();
      var formatted = new Intl.DateTimeFormat("en-US", {
        month: "numeric",
        day: "numeric"
      }).format(date);
      if (formatted == "10/6") {
        specialLogo.src = "추석.png";
      }
    }
    // 검색창 고정 하는 코드
    const input = document.getElementById('query');
    const sentinel = document.getElementById('query-sentinel');
    const inputContainer = document.getElementById('inputContainer');
    const body = document.querySelector('body');

    const observer = new IntersectionObserver(([entry]) => {
      if (!entry.isIntersecting) {
        inputContainer.style.position = 'fixed';
        inputContainer.style.top = '0px';
        inputContainer.style.left = '50%';
        inputContainer.style.transform = 'translateX(-50%)';
        inputContainer.style.zIndex = '999';
        inputContainer.style.width = '100%';
        inputContainer.style.padding = '10px';
        inputContainer.style.paddingLeft = '30px';

        if (body.className == 'dark') {
          inputContainer.style.backgroundColor = 'black';
        }
        else if (body.className == 'white') {
          inputContainer.style.backgroundColor = 'white';
        }
        else if (body.className == 'yellow') {
          inputContainer.style.backgroundColor = 'lightyellow';
        }
        else if (body.className == 'window') {
          inputContainer.style.backgroundColor = '';
        }
        else {
          inputContainer.style.backgroundColor = '#1AC8FF';
        }
      } else {
        inputContainer.style.position = '';
        inputContainer.style.top = '';
        inputContainer.style.left = '';
        inputContainer.style.transform = '';
        inputContainer.style.zIndex = '';
        inputContainer.style.width = '';
        inputContainer.style.backgroundColor = '';
        inputContainer.style.padding = '';
        inputContainer.style.paddingLeft = '';
      }
    }, { threshold: 0 });

    observer.observe(sentinel);

    logo();

    // === "나중에 볼 링크" 기능 시작 ===
    const READ_LATER_KEY = 'readLaterLinks';
    const MAX_LINKS = 5;

    function loadReadLaterLinks() {
      const listElement = document.getElementById('read-later-list');
      if (!listElement) return;

      const links = JSON.parse(localStorage.getItem(READ_LATER_KEY) || '[]');
      listElement.innerHTML = '';

      if (links.length === 0) {
        listElement.innerHTML = '<p style="text-align:center;">저장된 링크가 없습니다. 링크를 우클릭해 저장하세요.</p>';
        return;
      }

      links.forEach(link => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = link.url;
        a.textContent = link.text;
        a.target = '_blank'; // Open in new tab
        a.rel = 'noopener noreferrer';
        li.appendChild(a);
        listElement.appendChild(li);
      });

    }
    function removeLink() {
      localStorage.setItem(READ_LATER_KEY, '');
      loadReadLaterLinks();

    }

    function saveToReadLater(url, text) {
      let links = JSON.parse(localStorage.getItem(READ_LATER_KEY) || '[]');

      // Prevent duplicates
      if (links.some(link => link.url === url)) {
        Swal.fire({
          title: '이미 저장된 링크입니다.',
          icon: 'info',
          confirmButtonText: '확인',
          confirmButtonColor: 'orange',
        });
        return;
      }

      // Add new link to the beginning
      links.unshift({ url, text });

      // Keep only the latest 5
      if (links.length > MAX_LINKS) {
        links = links.slice(0, MAX_LINKS);
      }

      localStorage.setItem(READ_LATER_KEY, JSON.stringify(links));
      loadReadLaterLinks();
      Swal.fire({
        title: '링크를 저장했습니다.',
        icon: 'success',
        confirmButtonText: '확인',
        confirmButtonColor: 'green',
        timer: 1500
      });
    }

    document.addEventListener('contextmenu', function (e) {
      const target = e.target.closest('a');
      if (!target || !target.href) {
        removeCustomContextMenu();
        return;
      }

      e.preventDefault();
      removeCustomContextMenu(); // Remove any existing menu

      const menu = document.createElement('div');
      menu.id = 'custom-context-menu';
      menu.style.top = `${e.pageY}px`;
      menu.style.left = `${e.pageX}px`;

      const saveButton = document.createElement('button');
      saveButton.innerHTML = '링크 저장하기';
      saveButton.onclick = function () {
        const text = target.innerHTML.replace(/<[^>]*>?/gm, '').trim();
        saveToReadLater(target.href, text || target.href);
        removeCustomContextMenu();
      };

      menu.appendChild(saveButton);
      document.body.appendChild(menu);
    });

    function removeCustomContextMenu() {
      const existingMenu = document.getElementById('custom-context-menu');
      if (existingMenu) {
        existingMenu.remove();
      }
    }

    document.addEventListener('click', removeCustomContextMenu);
    // === "나중에 볼 링크" 기능 끝 ===

    const queryHistory = document.getElementById("queryHistory");
    var searchQueryList = JSON.parse(localStorage.getItem("searchQueryList")) || [];

    let recentQueries = searchQueryList.slice(-5).reverse(); // 최신순으로 정렬

    // <li> 태그로 표시
    queryHistory.innerHTML = ""; // 초기화
    recentQueries.forEach(query => {
      const li = document.createElement("li");
      li.textContent = query;
      li.style.cursor = "pointer";
      li.onclick = () => {
        input.value = li.textContent; // 클릭하면 input에 값 넣기
      };
      queryHistory.appendChild(li);
    });
  </script>
</body>

</html>