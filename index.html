<!DOCTYPE html>
<html lang="ko">

<head>
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "밤톨컴퍼니",
  "url": "https://bamtolcompany.github.io/"
}
    </script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-WVPNVFM075"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-WVPNVFM075');
  </script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <meta name="naver-site-verification" content="c0d0278354abb9332eeab54d415d9f01f3ecea62" />
  <meta name="google-site-verification" content="UhQkqPlA225MzqsxScvcuS6697b9sBfc8qAiIgFj0X0" />
  <meta name="naver-site-verification" content="04815f3e125ccbf570511b852976b17b4eed0bce" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9258543756875713"
    crossorigin="anonymous"></script>
  <title>올인원 검색-여러 검색엔진을 한곳에서 이용하세요</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta charset="utf-8">
  <meta name="application-name" content="밤톨컴퍼니">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="밤톨컴퍼니">
  <meta name="robots" content="index, follow">
  <meta name="description" content="올인원 검색은 구글, 네이버, 다음, 빙, 유튜브 등 다양한 검색엔진을 한 곳에서 빠르게 검색할 수 있는 통합 검색 플랫폼입니다.">
  <meta property="og:type" content="website">
  <meta property="og:title" content="올인원 검색">
  <meta property="og:description" content="많은 검색엔진을 한곳에서 이용하세요">
  <meta property="og:image" content="https://bamtolcompany.github.io/favicon.ico">
  <meta property="og:url" content="https://bamtolcompany.github.io/">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1AC8FF">
  <meta name="yandex-verification" content="96c9424419bd925a" />
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-round.css" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=location_searching" />
  <style>
    @font-face {
      font-family: "nanum";
      src: url("font/NanumBarunpenR.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }

    .white {
      background-color: white;
    }

    .white h1 {
      color: black;
    }

    .white button {
      background-color: #FFFFA8;
    }


    .dark button {
      color: white;
      background-color: gray;
    }

    .dark legend {
      color: white;
    }

    .dark footer p {
      color: white;
    }

    .yellow {
      background-color: lightyellow;
    }

    .yellow h1 {
      color: black;
    }

    .yellow .ai {
      background-color: lemonchiffon;
    }

    .category-section {
      text-align: center;
      margin: 0px;
      padding: 0px;
    }

    .category {
      text-align: center;
      width: 110px;
      height: 30px;
      font-size: 18px;
      background-color: #FFFFA8;
      border-radius: 5px;
    }

    #autocomplete-list li {
      padding: 10px;
      cursor: pointer;
      font-size: 18px;
      border-bottom: 1px solid #ccc;
    }

    #autocomplete-list li:hover {
      background-color: #f0f0f0;
    }

    body {
      background-color: #1AC8FF;
      padding: 0;
      margin: 0;
    }

    main {
      padding: 8px;
    }

    header {
      padding: 8px;
    }

    * {
      transition: 0.3s;
      font-family: "nanum", sans-serif;
    }

    h1 {
      color: white;
      font-family: "NanumSquareRound";
    }

    h4 {
      color: white;
    }

    h6 {
      color: white;
    }

    .ignore {
      color: blue;
    }

    a:not(.ignore, .footer-link) {
      font-size: 40px;
      color: black;
      text-decoration: none;
    }

    img {
      width: 40px;
      height: 40px;
    }

    button {
      background-color: yellow;
      width: 300px;
      height: 75px;
      border-radius: 30px;
      margin: 3px;
      font-size: 40px;
      color: black;
    }

    input {
      width: 100%;
      height: 40px !important;
      font-size: 100%;
      border-radius: 30px;
      padding: 15px;
    }

    .ai img {
      margin: 5px;
    }

    .ai {
      background-color: white;
    }

    fieldset {
      width: 300px;
    }

    .tops {
      display: flex;
      gap: 10px;
    }

    .top {
      width: 40%;
      background-color: #85e3ff;
      padding: 5px;
      border-radius: 10px;
      margin: 8px;
    }

    .list:hover {
      color: #0051ff;
      font-size: larger;
      text-decoration: underline;
    }

    .top p {
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }

    footer {
      text-align: center;
      background-color: #c2f1ff;
      padding: 10px;
    }

    .footer-link {
      color: black;
      text-decoration: none;
      margin: 10px;
      font-family: 'NanumGothic';
    }

    .footer-link:hover {
      text-decoration: underline;
      color: #0051ff;
    }

    .adsbygoogle {
      margin-bottom: 5px;
    }


    .about-sites {
      text-align: center;
    }

    .window .category {
      font-size: small;
    }

    .window input {
      font-size: large;
    }

    .window .engine button {
      font-size: 30px;
    }

    .window h1 {
      font-size: 40px;
    }

    .window .top {
      background-color: blue;
      color: white;
      border-radius: 0;
    }

    .window {
      background-color: #00b899 !important;
    }

    #specialLogo {
      width: 85%;
      height: auto;
    }

    .search-location {
      width: auto;
      height: auto;
      padding: 0px;
      background-color: #ccc;
      font-size: 0px;
      cursor: pointer;
    }

    .material-symbols-outlined {
      margin: 0;
    }

    .weather {
      width: auto;
      height: 20px;
    }

    .container {
      display: flex;
    }

    .engine button {
      cursor: pointer;
    }

    .category {
      cursor: pointer;
    }

    .engine button:hover {
      transform: scale(1.05);
      background-color: #ffeb36;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      border-color: #ffeb36;
    }

    .category:hover {
      transform: scale(1.05);
      background-color: #ffff80;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
      border-image-slice: 1;
      border-image-source: linear-gradient(45deg, #ffbb01, #e5ff00);
    }

    footer p {
      font-family: 'NanumGothicBold';
    }

    .white .engine button:hover {
      background-color: #ffff80;
    }

    .dark .engine button:hover {
      background-color: rgb(90, 90, 90);
      border-color: rgb(90, 90, 90);
    }

    .dark .category:hover {
      background-color: rgb(90, 90, 90);
      border-image-slice: 1;
      border-image-source: linear-gradient(0deg, #141414, #dadada);
    }

    .dark footer p {
      color: black;
    }

    .dark .time,
    .dark .weather {
      color: white;
    }

    .dark aside p {
      color: white;
    }

    .window .engine button:hover {
      background-color: silver;
    }

    .dark .top {
      color: white;
      background-color: #333333;
    }

    .dark .list:hover {
      color: #e0e0e0;
    }

    .dark .footer-link {
      color: white;
    }

    .dark footer {
      background-color: rgb(26, 26, 26);
    }

    .dark footer p {
      color: white;
    }

    .dark {
      background: linear-gradient(25deg, black, rgb(19, 19, 19), rgb(36, 36, 36), rgb(14, 14, 14), rgb(24, 24, 24));
    }

    .dark #query {
      background-color: #3b3b3b;
      color: white;
      border: 1px gray solid;
    }

    .dark #query::placeholder {
      color: #dfdfdf;
    }

    .about-sites a {
      background-color: #9e9e9e;
      padding: 10px;
      border-radius: 6px;
      margin: 10px;
      border: 2px solid;
    }

    .about-sites a:hover {
      background-color: #8a8a8a;
      text-decoration: underline;
    }

    @media (max-width:480px) {
      .engine {
        text-align: center;
      }

      .engine button {
        width: 97%;
      }
    }
    #news-dashboard {
      margin-top: 20px;
      margin-left: 30px;
      margin-right: 30px;
      padding: 20px;
      background-color: #ffffffce;
      border-radius: 10px;
    }

    #news-dashboard h2 {
      text-align: center;
      color: #333;
      font-family: "NanumSquareRound";
    }

    #news-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
      margin-top: 10px;
    }

    .news-item {
      background-color: white;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .news-item h3 {
      font-size: 1.1em;
      margin: 0 0 10px 0;
    }

    .news-item h3 a {
      text-decoration: none;
      color: #0056b3;
      font-size: initial;
    }

    .news-item h3 a:hover {
      text-decoration: underline;
    }

    .news-item p {
      font-size: 0.9em;
      color: #555;
      margin: 0 0 10px 0;
    }

    .news-item .news-source {
      font-size: 0.8em;
      color: #888;
      text-align: right;
    }
  </style>
</head>

<body>
  <header>
    <h1>올인원 검색-여러 검색엔진을 한곳에서 이용하세요.</h1>
    <nav>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSfZXzol5qk6zGwrMvAco9f3M1QumJ6W2ut0g7egWFUfzHB5ig/viewform?usp=header"
        class="ignore">피드백 및 버그 신고</a>
      <fieldset>
        <legend>테마</legend>
        <select id="theme-select" onchange="setTheme(this.value)">
          <option value="none">기본</option>
          <option value="white">화이트</option>
          <option value="dark">다크</option>
          <option value="yellow">옐로</option>
          <option value="window">레트로</option>
        </select>
      </fieldset>
    </nav>
  </header>
  <main>
    <div style="border-radius:20px; display:inline-flex; padding-left:20px; padding-right:20px;" class="ai">
      <a href="https://gemini.google.com"><img
          src="https://play-lh.googleusercontent.com/bTpNtZ6rYYX2SeI-wC4cnr7MJnOh2hjtgYu3UIrSxE09lM3GPl_Uhf9_Ih2Smje2bc0V=w480-h960-rw"></a>
      <a href="https://chatgpt.com"><img src="https://chatgpt.com/favicon.ico"></a>
      <a href="https://copilot.microsoft.com/"><img src="https://copilot.microsoft.com/favicon.ico"></a>
    </div>
    <div id="time" class="time"></div>

    <div class="container">
      <div id="weather" class="weather"></div><button onclick="getWeather()" class="search-location"><span
          class="material-symbols-outlined">
          location_searching
        </span></button>
    </div>
    <div class="about-sites">
      <a href="https://bamtolcompany.github.io/allinonenews/" style="font-size:20px;">올인원 뉴스</a>
      <a href="https://bamtolcompany.github.io/allinoneshopping/" style="font-size:20px;">올인원 쇼핑</a>
    </div>
    <div>
      <img id="specialLogo">
    </div>

    <div style="display: flex; gap:5px; transition: 0s;" id="inputContainer">
      <a href="https://bamtolcompany.github.io/">
        <img src="favicon.png" style="border-radius: 25px;">
      </a>
      <div style="position: relative; display: inline-block; width: 85%;">
        <input type="search" id="query" placeholder="검색어를 입력하세요" autocomplete="off">
        <ul id="autocomplete-list"
          style="position: absolute; z-index: 1000; background: white; border-radius: 10px; list-style: none; margin: 0; padding: 0; width: 100%; display: none; max-height: 200px; overflow-y: auto;">
        </ul>
      </div>
      <a
        href="https://search.app.goo.gl/?ofl=https%3A%2F%2Flens.google&al=googleapp%3A%2F%2Flens%3Flens_data%3DKAw&apn=com.google.android.googlequicksearchbox&amv=301204913&isi=284815942&ius=googleapp&ibi=com.google.GoogleMobile&link=https%3A%2F%2Fgoo.gl%2Fiosgoogleapp%2Fdefault%3Furl%3Dgoogleapp%253A%252F%252Flens%253Fmin-version%253D180%2526lens_data%253DKAw&ifl=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fgoogle%2Fid284815942%3Fppid%3D1ac8cc35-d99c-4a1d-b909-321c8968cc74%26pt%3D9008%26mt%3D8%26ct%3D4815459-oo-lens-isb-bar-lens-cam%26UTM_campaign%3Dgoogle_search_mweb&efr=1&ct=4815459-oo-lens-isb-bar-lens-cam&utm_campaign=4815459-oo-lens-isb-bar-lens-cam&utm_source=google_search_mweb&utm_medium=owned&pt=9008&mt=8"><img
          src="https://lh3.googleusercontent.com/H65Hxq0ooUCcwhoRGU-fwoXqrGS58mwa2vtr2ZfhGgJzMU0uYybOrZVBs8jydtR22TRC1k9XwDMD2xHB5BBU4IyXW7oH8PyCsq46uX6A42CmXP5GDZ2d"></a>
      <img src="https://www.gstatic.com/images/branding/googlemic/2x/googlemic_color_24dp.png"
        onclick="startVoiceRecognition()">
    </div>
    <div id="query-sentinel"></div>

    <section class="category-section">
      <button onclick="search('images')" class="category">이미지 검색</button>
      <button onclick="search('ai')" class="category">AI 검색</button>
      <button onclick="search('blog')" class="category">블로그 검색</button>
      <button onclick="search('naverKnowledgeIn')" class="category">지식in 검색</button>
    </section>

    <div class="engine">
      <button onclick="search('google')">구글 검색</button>
      <button onclick="search('naver')">네이버 검색</button>
      <button onclick="search('youtube')">유튜브 검색</button>
      <button onclick="search('daum')">다음 검색</button>
      <button onclick="search('yahoo')">야후 검색</button>
      <button onclick="search('bing')">빙 검색</button>
      <button onclick="search('nate')">네이트 검색</button>
      <button onclick="search('zum')">줌 검색</button>
    </div>
    <div class="tops">
      <div class="top">
        <p>인기 검색어 TOP10</p>
        <ol id="top-queries"></ol>
      </div>
      <div class="top">
        <p>주간 인기 검색어</p>
        <ol id="weekly-top-queries"></ol>
      </div>
    </div>
    <section id="news-dashboard">
      <h2><span style="color: rgb(0, 68, 255);">G</span><span style="color: rgb(255, 17, 0);">o</span><span style="color: rgb(255, 196, 0);">o</span><span style="color: rgb(0, 68, 255);">g</span><span style="color: green;">l</span><span style="color: rgb(255, 17, 0);">e</span> 뉴스</h2>
      <div id="news-container"></div>
      <p>powered by <span style="color: rgb(0, 68, 255);">G</span><span style="color: rgb(255, 17, 0);">o</span><span style="color: rgb(255, 196, 0);">o</span><span style="color: rgb(0, 68, 255);">g</span><span style="color: green;">l</span><span style="color: rgb(255, 17, 0);">e</span> news</p>
    </section>
  </main>
  <aside>
    <p>광고</p>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9258543756875713"
      crossorigin="anonymous"></script>
    <!-- 올인원 검색 배너 광고 -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9258543756875713" data-ad-slot="3324875483"
      data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </aside>
  <footer>
    <a href="https://bamtolcompany.github.io/products" class="footer-link">밤톨 서비스</a>
    <a href="https://bamtolcompany.github.io/support" class="footer-link">도움말</a>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSfZXzol5qk6zGwrMvAco9f3M1QumJ6W2ut0g7egWFUfzHB5ig/viewform?usp=header"
      class="footer-link">피드백 및 버그 신고</a><br>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdun2upPol4YSjcY2OGairYRypiSV1_eKhFwEYOsVDYar-xrw/viewform?usp=header"
      class="footer-link">인기 검색어 신고</a>
    <a href="secret.html" class="footer-link">시크릿 모드로 전환</a>
    <p>&copy; 2025 bamtol company. All rights reserved. | <a href="mailto:bamtol_official@naver.com"
        class="footer-link">이메일</a></p>
  </footer>
  <script>
    const SAVE_API_URL = "https://backend-bzep.onrender.com/api/save-query";
    const AUTOCOMPLETE_API_URL = "https://backend-bzep.onrender.com/api/autocomplete";
    const TOP_QUERIES_API_URL = "https://backend-bzep.onrender.com/api/top-queries";
    var language = navigator.language;
    function mobile() {
      return window.innerWidth <= 480;
    }

    function saveQuery(query) {
      if (!query) return;

      fetch(SAVE_API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ query })
      })
        .then(res => res.json())
        .then(data => console.log("Query saved:", data))
        .catch(err => console.error("저장 실패:", err));
    }
    let f8Pressed = false;

    document.addEventListener("keydown", function (event) {
      if (event.key === "F8") {
        f8Pressed = true;
      }
    });

    document.addEventListener("keyup", function (event) {
      if (event.key === "F8") {
        f8Pressed = false;
      }
    });

    function search(engine) {
      const input = document.getElementById('query');
      const query = input.value.trim();
      if (!query) {
        Swal.fire({
          title: '검색어를 입력해주세요',
          icon: 'warning',
          confirmButtonText: '확인',
          confirmButtonColor: 'orange',
          scrollbarPadding: false,
          allowEnterKey: false
        }); return;
      }

      saveQuery(query);

      let url = '';
      switch (engine) {
        case 'google': url = `https://www.google.com/search?q=${encodeURIComponent(query)}`; break;
        case 'naver': url = `https://search.naver.com/search.naver?query=${encodeURIComponent(query)}`; break;
        case 'daum': url = `https://search.daum.net/search?q=${encodeURIComponent(query)}`; break;
        case 'yahoo': url = `https://search.yahoo.com/search?p=${encodeURIComponent(query)}`; break;
        case 'bing': url = `https://www.bing.com/search?q=${encodeURIComponent(query)}`; break;
        case 'nate': url = `https://search.daum.net/nate?q=${encodeURIComponent(query)}`; break;
        case 'zum': url = `https://search.zum.com/search.zum?query=${encodeURIComponent(query)}`; break;
        case 'youtube': url = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`; break;
        case 'images': url = `https://www.google.com/search?tbm=isch&q=${encodeURIComponent(query)}`; break;
        case 'ai': url = `https://www.google.com/search?udm=50&aep=11&q=${encodeURIComponent(query)}`; break;
        case 'blog': url = `https://search.naver.com/search.naver?ssc=tab.blog.all&sm=tab_jum&query=${encodeURIComponent(query)}`; break;
        case 'naverKnowledgeIn': url = `https://search.naver.com/search.naver?ssc=tab.kin.kqna&where=kin&sm=tab_jum&query=${encodeURIComponent(query)}`; break;
      }
      if (mobile()) {
        window.location.href = url;
      }
      else {
        if (f8Pressed) {
          window.open(url, '_blank', 'width=600,height=400');

        }
        else {
          window.open(url, '_blank');
        }
      }
      localStorage.setItem("recentSearchEngine", engine);
      f8Pressed = false;
    }

    // 인기 검색어 불러오기
    async function loadTopQueries() {
      try {
        const res = await fetch(TOP_QUERIES_API_URL);
        const data = await res.json();
        const list = document.getElementById("top-queries");
        list.innerHTML = "";

        data.forEach(item => {
          const li = document.createElement("li");
          li.classList.add("list")
          li.textContent = item.query;
          li.style.cursor = "pointer";
          li.addEventListener("click", () => {
            document.getElementById('query').value = item.query;
          });
          list.appendChild(li);
        });
      } catch (err) {
        console.error("인기 검색어 불러오기 에러:", err);
      }
    }
    const WEEKLY_TOP_QUERIES_API_URL = "https://backend-bzep.onrender.com/api/weekly-top-queries";
    async function loadWeeklyTopQueries() {
      try {
        const res = await fetch(WEEKLY_TOP_QUERIES_API_URL);
        const data = await res.json();
        const list = document.getElementById("weekly-top-queries");
        list.innerHTML = "";

        data.forEach(item => {
          const li = document.createElement("li");
          li.classList.add("list")
          li.textContent = item.query;
          li.style.cursor = "pointer";
          li.addEventListener("click", () => {
            document.getElementById('query').value = item.query;
          });
          list.appendChild(li);
        });
      } catch (err) {
        console.error("인기 검색어 불러오기 에러:", err);
      }
    }

    // 페이지 로드 시 인기 검색어 자동 로딩
    window.addEventListener("DOMContentLoaded", () => {
      loadTopQueries();
      loadWeeklyTopQueries();
      loadNewsDashboard();
    });

    async function loadNewsDashboard() {
      const newsContainer = document.getElementById('news-container');
      newsContainer.innerHTML = '<p style="text-align:center;">최신 뉴스를 불러오는 중... <img src="loading.gif"/></p>';

      const feeds = [
        { name: 'Google 뉴스', url: 'https://news.google.com/rss?hl=ko&gl=KR&ceid=KR:ko' }
      ];

      // NOTE: Using a public CORS proxy for prototyping purposes.
      const CORS_PROXY = 'https://corsproxy.io/?';

      try {
        const allItems = [];
        for (const feed of feeds) {
          const response = await fetch(CORS_PROXY + encodeURIComponent(feed.url));
          if (!response.ok) {
            console.error(`Failed to fetch ${feed.name}: ${response.statusText}`);
            continue; // Skip this feed if it fails
          }
          const data = await response.text();
          const parser = new DOMParser();
          const xml = parser.parseFromString(data, 'application/xml');
          const items = xml.querySelectorAll('item');

          items.forEach(item => {
            const title = item.querySelector('title')?.textContent || '';
            const link = item.querySelector('link')?.textContent || '#';
            const description = item.querySelector('description')?.textContent.replace(/<[^>]*>?/gm, '').substring(0, 100) + '...' || '';
            const pubDate = item.querySelector('pubDate')?.textContent || '';
            
            allItems.push({
              title,
              link,
              description,
              pubDate: new Date(pubDate),
              source: feed.name
            });
          });
        }

        // Sort all items by date, newest first
        allItems.sort((a, b) => b.pubDate - a.pubDate);

        newsContainer.innerHTML = ''; // Clear loading message

        // Display a limited number of items
        const maxItems = 10;
        allItems.slice(0, maxItems).forEach(item => {
          const newsItem = document.createElement('div');
          newsItem.className = 'news-item';
          newsItem.innerHTML = `
            <h3><a href="${item.link}" target="_blank" rel="noopener noreferrer">${item.title}</a></h3>
            <p>${item.description}</p>
            <p class="news-source">${item.source} - ${item.pubDate.toLocaleString()}</p>
          `;
          newsContainer.appendChild(newsItem);
        });

      } catch (error) {
        console.error('Error fetching or parsing RSS feeds:', error);
        newsContainer.innerHTML = '<p style="text-align:center;">뉴스 로딩에 실패했습니다.</p>';
      }
    }

    const inputBox = document.getElementById('query');
    const autocompleteList = document.getElementById('autocomplete-list');

    inputBox.addEventListener('input', async () => {
      const q = inputBox.value.trim();
      if (!q) { autocompleteList.style.display = 'none'; return; }

      try {
        const res = await fetch(`${AUTOCOMPLETE_API_URL}?q=${encodeURIComponent(q)}`);
        const suggestions = await res.json();

        autocompleteList.innerHTML = '';
        if (suggestions.length === 0) { autocompleteList.style.display = 'none'; return; }

        suggestions.forEach(s => {
          const li = document.createElement('li');
          li.textContent = s;
          li.addEventListener('click', () => {
            inputBox.value = s;
            autocompleteList.style.display = 'none';
          });
          autocompleteList.appendChild(li);
        });
        autocompleteList.style.display = 'block';
      } catch (err) {
        console.error("자동완성 에러:", err);
      }
    });

    document.addEventListener('click', (e) => {
      if (!e.target.closest('#query') && !e.target.closest('#autocomplete-list')) {
        autocompleteList.style.display = 'none';
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === '/' && document.activeElement !== inputBox) {
        e.preventDefault();
        inputBox.focus();
        return;
      }
      if (e.key === 'Enter' && inputBox.value.startsWith('@google')) {
        inputBox.value = inputBox.value.replace(/^@google\s*/, '');
        search('google');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@naver')) {
        inputBox.value = inputBox.value.replace(/^@naver\s*/, '');
        search('naver');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@daum')) {
        inputBox.value = inputBox.value.replace(/^@daum\s*/, '');
        search('daum');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@yahoo')) {
        inputBox.value = inputBox.value.replace(/^@yahoo\s*/, '');
        search('yahoo');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@youtube')) {
        inputBox.value = inputBox.value.replace(/^@youtube\s*/, '');
        search('youtube');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@bing')) {
        inputBox.value = inputBox.value.replace(/^@bing\s*/, '');
        search('bing');
      }
      else if (e.key === 'Enter' && inputBox.value.startsWith('@ai')) {
        inputBox.value = inputBox.value.replace(/^@ai\s*/, '');
        search('ai');
      }
      else if (e.key === 'Enter') {
        const engine = localStorage.getItem("recentSearchEngine");
        if (engine == null) {
          Swal.fire({
            title: '최근에 사용한 검색엔진이 없습니다',
            icon: 'error',
            confirmButtonText: '확인',
            confirmButtonColor: 'red',
            scrollbarPadding: false,
            allowEnterKey: false
          });
          return;
        }
        search(engine);
      }

      if (e.ctrlKey && e.altKey) {
        e.preventDefault();
        const key = e.key.toUpperCase();
        switch (key) {
          case 'G': search('google'); break;
          case 'N': search('naver'); break;
          case 'Y': search('youtube'); break;
        }
      }
    });
// 음성인식 하는 코드

    function startVoiceRecognition() {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) {
        Swal.fire({
          title: '이 브라우저는 음성인식을 지원하지 않아요. 크롬을 사용해주세요.',
          icon: 'error',
          confirmButtonText: '확인',
          confirmButtonColor: 'red',
          cancelButtonText: "취소",
          showCancelButton: true,
          scrollbarPadding: false,
          allowEnterKey: false
        }).then((result) => {
          if (result.isConfirmed) {
            window.location.href = "https://www.google.com/intl/ko_kr/chrome/";
          }
        }); return;
      }

      const recognition = new SpeechRecognition();
      recognition.lang = language;
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.start();

      recognition.onresult = function (event) {
        inputBox.value = event.results[0][0].transcript;
      };

      recognition.onerror = function (event) {
        Swal.fire({
          title: '음성 인식 오류: ' + event.error,
          icon: 'error',
          confirmButtonText: '확인',
          confirmButtonColor: 'red',
          scrollbarPadding: false,
          allowEnterKey: false
        });
      };
    }
    function setTime(lang) {
      const time = document.getElementById("time");
      const options = {
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        hour12: false
      };
      var today = new Date();
      var month = today.getMonth() + 1;
      var day = today.getDate();
      if (month === 3 && day === 1) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 3.1절";
      }
      else if (month === 7 && day === 17) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 제헌절";
      }
      else if (month === 8 && day === 15) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 광복절";
      }
      else if (month === 10 && day === 3) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 개천절";
      }
      else if (month === 10 && day === 9) {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date()) + "/ 한글날";
      }
      else {
        time.innerHTML = Intl.DateTimeFormat(lang, options).format(new Date());
      }
    }
    function getWeather(location) {
      if (!location) {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function (position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            getCityName(lat, lon, function (city) {
              fetchWeather(lat, lon, city);
            });
          }, function (err) {
            console.error(err);
            fetchWeather(37.5665, 126.9780, "Seoul");
          });
        } else {
          fetchWeather(37.5665, 126.9780, "Seoul");
        }
      } else {
        // 도시 이름으로 좌표 가져오기
        getCityCoordinates(location, function (lat, lon, city) {
          fetchWeather(lat, lon, city);
        });
      }
    }

    function getCityName(lat, lon, callback) {
      fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`)
        .then(res => res.json())
        .then(data => {
          const city = data.address.city || data.address.town || data.address.village || data.address.county || "Unknown";
          callback(city);
        })
        .catch(err => {
          console.error(err);
          callback("Unknown");
        });
    }

    function getCityCoordinates(city, callback) {
      fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(city)}`)
        .then(res => res.json())
        .then(data => {
          if (data.length > 0) {
            callback(parseFloat(data[0].lat), parseFloat(data[0].lon), city);
          } else {
            callback(37.5665, 126.9780, "Seoul");
          }
        })
        .catch(err => {
          console.error(err);
          callback(37.5665, 126.9780, "Seoul");
        });
    }

    function weatherCodeToText(code) {
      if (code === 0) return "맑음";
      if ([1, 2, 3].includes(code)) return "구름 조금/흐림";
      if ([45, 48].includes(code)) return "안개";
      if ([51, 53, 55].includes(code)) return "이슬비";
      if ([61, 63, 65].includes(code)) return "비";
      if ([71, 73, 75].includes(code)) return "눈";
      if ([80, 81, 82].includes(code)) return "소나기";
      if ([95, 96, 99].includes(code)) return "뇌우";
      return "알 수 없음";
    }

    function fetchWeather(lat, lon, city) {
      fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
        .then(res => res.json())
        .then(data => {
          const weather = data.current_weather;
          const statusText = weatherCodeToText(weather.weathercode);
          if (city == "Unknown") {
            document.getElementById("weather").innerHTML = `현재위치 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`
          }
          else if (city != "Unknown") {
            document.getElementById("weather").innerHTML =
              `${city} 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`;
          }
          if (city == "Seoul") {
            document.getElementById("weather").innerHTML = `서울특별시 날씨: ${statusText}, 온도: ${weather.temperature}°C, 풍속: ${weather.windspeed} km/h`
          }
        })
        .catch(err => {
          console.error(err);
          document.getElementById("weather").innerHTML = "날씨 정보를 가져올 수 없습니다.";
        });
    }

    function setTheme(value) {
      document.body.className = value === 'none' ? '' : value;
      localStorage.setItem("테마", document.body.className);

      let retroLink = document.getElementById("retro-css");
      if (value === "window") {
        if (!retroLink) {
          retroLink = document.createElement("link");
          retroLink.id = "retro-css";
          retroLink.rel = "stylesheet";
          retroLink.href = "https://unpkg.com/98.css";
          document.head.appendChild(retroLink);
        }
      } else {
        if (retroLink) retroLink.remove();
      }
    }

    setTime(language);
    setInterval(function () {
      setTime(language);
    }, 1000)
    getWeather("서울 특별시")

    const savedTheme = localStorage.getItem("테마") || "none";
    document.body.className = savedTheme === "none" ? "" : savedTheme;
    document.getElementById('theme-select').value = savedTheme;

    if (savedTheme === "window") {
      const retroLink = document.createElement("link");
      retroLink.id = "retro-css";
      retroLink.rel = "stylesheet";
      retroLink.href = "https://unpkg.com/98.css";
      document.head.appendChild(retroLink);
    }
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log('Service Worker 등록 성공'))
        .catch(() => console.log('Service Worker 등록 실패'));
    }
    function logo() {
      var specialLogo = document.getElementById("specialLogo");
      const date = new Date();
      var formatted = new Intl.DateTimeFormat("en-US", {
        month: "numeric",
        day: "numeric"
      }).format(date);
      if (formatted == "10/6") {
        specialLogo.src = "추석.png";
      }
    }
    // 검색창 고정 하는 코드
const input = document.getElementById('query');
const sentinel = document.getElementById('query-sentinel');
const inputContainer = document.getElementById('inputContainer');
const body = document.querySelector('body');

const observer = new IntersectionObserver(([entry]) => {
  if (!entry.isIntersecting) {
    inputContainer.style.position = 'fixed';
    inputContainer.style.top = '0px';
    inputContainer.style.left = '50%';
    inputContainer.style.transform = 'translateX(-50%)';
    inputContainer.style.zIndex = '999';
    inputContainer.style.width = '100%';
    inputContainer.style.padding = '10px';
    inputContainer.style.paddingLeft = '30px';

    if (body.className == 'dark') {
      inputContainer.style.backgroundColor = 'black';
    }
    else if (body.className == 'white') {
      inputContainer.style.backgroundColor = 'white';
    }
    else if (body.className == 'yellow') {
      inputContainer.style.backgroundColor = 'lightyellow';
    }
    else if (body.className == 'window') {
      inputContainer.style.backgroundColor = '';
    }
    else {
      inputContainer.style.backgroundColor = '#1AC8FF';
    }
  } else {
    inputContainer.style.position = '';
    inputContainer.style.top = '';
    inputContainer.style.left = '';
    inputContainer.style.transform = '';
    inputContainer.style.zIndex = '';
    inputContainer.style.width = '';
    inputContainer.style.backgroundColor = '';
    inputContainer.style.padding = '';
    inputContainer.style.paddingLeft = '';
  }
}, { threshold: 0 });

observer.observe(sentinel);

    logo();
  </script>
  <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>
  <script type="text/javascript">
    if (!wcs_add) var wcs_add = {};
    wcs_add["wa"] = "13352a6b233d900";
    if (window.wcs) {
      wcs_do();
    }
  </script>
</body>

</html>