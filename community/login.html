<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>로그인</title>
<style>
body { font-family: Arial; padding: 20px; }
input { display: block; margin-bottom: 10px; width: 100%; }
button { cursor: pointer; }
</style>
</head>
<body>

<h1>로그인</h1>
<input id="email" placeholder="이메일">
<input id="password" type="password" placeholder="비밀번호">
<button onclick="login()">로그인</button>
<a href="register.html">회원가입</a>
<script>
const API_BASE = "https://community-xabl.onrender.com";

async function login() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const res = await fetch(`${API_BASE}/users/login`, {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({email, password}),
    credentials: "include"
  });
  alert(await res.json());
  if(res.ok) window.location.href = "index.html";
}
</script>

</body>
</html>
