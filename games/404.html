<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>밤톨 게임즈</title>
</head>
<body>
  <div id="detail">
    <h1 id="title"></h1>
    <p id="description"></p>
    <a id="url" target="_blank"></a>
    <p id="views"></p>
    <button onclick="location.href='/games/index.html'">← 목록으로</button>
  </div>

  <script>
    const pathParts = location.pathname.split("/").filter(Boolean);
    const gameId = pathParts[pathParts.length - 1];

    fetch(`https://backend-bzep.onrender.com/api/game/${gameId}`)
      .then(res => res.json())
      .then(g => {
        document.title = `밤톨 게임즈 - ${g.title}`;

        document.getElementById("title").textContent = g.title;
        document.getElementById("description").textContent = g.description;
        document.getElementById("url").href = g.url;
        document.getElementById("url").textContent = g.url;
        document.getElementById("views").textContent = `조회수: ${g.views}`;
      })
      .catch(() => {
        document.title = "밤톨 게임즈 - 존재하지 않는 게임";
        document.body.innerHTML = "<h1>존재하지 않는 게임입니다.</h1>";
      });
  </script>
</body>
</html>
